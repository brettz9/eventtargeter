<!DOCTYPE html>
<meta charset="utf-8">
<title>EventTarget Demo</title>
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon" />

<script type="module">
    // eslint-disable-next-line no-shadow -- Polyfilling
    import {ShimEventTarget as EventTarget} from '../dist/index-es.js';

    // Adding events to custom object

    function Car () {
        this.start = function () {
            this.dispatchEvent({type: 'start', message: 'vroom vroom!'});
        };
    }

    Object.assign(Car.prototype, EventTarget.prototype);

    // Using events

    const car = new Car();

    car.addEventListener('start', function (evt) {
        alert(evt.message);
    });

    car.start();
</script>
